# 用户管理功能需求 (v1.0)

## 1. 背景与目标
为了支持系统的多用户访问及未来的权限控制，需要一个基础的用户管理模块。管理员可以查看所有注册用户，创建新用户（管理员手动添加），编辑用户信息，以及删除违规或离职用户。

## 2. 用户故事
- **查看列表**：作为管理员，我希望能分页查看所有用户列表，并按姓名或邮箱搜索，以便快速找到特定用户。
- **新增用户**：作为管理员，我希望能手动创建新用户，设置其初始密码和角色。
- **编辑用户**：作为管理员，我希望能修改用户的姓名、邮箱、角色或重置密码。
- **删除用户**：作为管理员，我希望能删除不再使用的账号，并在删除前得到二次确认。

## 3. 功能详情

### 3.1 用户列表
- **展示字段**：
  - 头像 (Image)
  - 姓名 (Name)
  - 邮箱 (Email)
  - 角色 (Role) - 显示为 Badge (ADMIN/USER)
  - 注册时间 (Created At)
- **交互功能**：
  - **搜索**：支持按“姓名”或“邮箱”模糊搜索。
  - **分页**：每页显示 10 条，底部提供翻页器。
  - **筛选**：(可选 v1.1) 按角色筛选。

### 3.2 新增/编辑用户 (Sheet/Drawer)
- **表单字段**：
  - **姓名** (Text, 必填): 至少 2 字符。
  - **邮箱** (Email, 必填, 唯一): 有效邮箱格式。
  - **密码** (Password): 新增时必填 (min 6)，编辑时可选 (留空不修改)。
  - **角色** (Select, 必填): USER (普通用户) / ADMIN (管理员)。
- **校验规则**：
  - 邮箱必须全局唯一（需后端校验）。
  - 密码强度（简单长度校验）。

### 3.3 删除用户
- **操作**：点击列表行的“删除”按钮。
- **确认**：弹出 Alert Dialog 提示“此操作无法撤销”。
- **逻辑**：硬删除 (Delete) 及其关联数据 (Cascade)。

## 4. 数据模型 (基于现状)
`User` 模型已存在于 Prisma Schema：
- `id`: CUID
- `name`: String?
- `email`: String? (Unique)
- `password`: String? (Encrypted)
- `image`: String?
- `role`: String (Default: "USER")

## 5. 验收标准 (DoD)
- [ ] 能看到用户列表，分页正常。
- [ ] 搜索框能正确过滤姓名或邮箱。
- [ ] 能成功添加新用户，且邮箱不能重复。
- [ ] 能修改用户姓名、角色和重置密码。
- [ ] 删除用户前有确认弹窗，删除后列表自动刷新。
- [ ] 全程有 Loading 状态和 Toast 提示。
