{
	"pageTitle": "系统角色",
	"pageType": "CrudView",
	"tabs": true,	
	"entityName": "sysRole",
	"mainPanel": "mainPanel",
	"statusColumn": { "col": "work_status", "val": "Enabled" },
    "rowKey": "role_id",
	"createdbyColumn": "created_by",	
	"contentBody":{
		"mainPanel":[{
			"query":{
				"component":"QueryForm",
				"form":{
					"layout":"inline",
					"layoutType":"Form",
					"submitText": "查询",
					"hideExport": true,
					"fields":[{
						"valueType":"group", 
						"fieldProps":{ "style": {"padding": "2px"}, "size": [12,10] }, 
						"columns":[
							{"title": "角色名称", "dataIndex": "role_name",  "width":"xs", "valueType": "text" },
							{"title": "状态", "dataIndex": "work_status",  "width":"xs", "valueType": "select", "options":"${rowStatus}$" }
						]
					}]
				}	
			}
		},{
			"dataTable":{	
				"component":"CrudTable",
				"table":{
					"search":false,
					"columns": [
						{"title": "ID", "dataIndex": "role_id","width":50},
                        {"title": "角色代码", "dataIndex": "role_code", "width":150},
						{"title": "角色名称",  "dataIndex": "role_name", "width":200},						
						{"title": "状态", "dataIndex": "work_status", "valueType":"select", "options":"${rowStatus}$" },
						{"title": "开通日期","dataIndex": "created", "valueType":"dateTime", "width":180, "sorter": true, "format":"yyyy-MM-dd HH:mm" },
                        {"title": "操作", "align":"center", "valueType": "buttons", "buttons": [
                        	{"title":"编辑", "action": "edit"},
                        	{"title":"删除", "action": "delete"},
                        	{"title":"用户", "action": "roleUsers"}
                        ]}  
					]						
				}    	
			}	
		}],
		"detailPanel":[
			{
				"detailForm": {
					"component":"DetailForm",
					"form": {
						"layout":"horizontal",
						"layoutType":"Form",
					    "labelCol": { "span": 4 },
    					"wrapperCol": { "span": 16 },						
						"submitText": "保存",
						"fields":[
							{"title": "角色编码", "dataIndex": "role_code", "required":"true", "message":"角色编码为必填项" },
                            {"title": "角色名称", "dataIndex": "role_name", "required":"true", "message":"请输入角色名称"  },						
                            {"title": "状态",     "dataIndex": "work_status", "valueType":"select", "options":"${rowStatus}$" },
                            {"title": "所属类别", "dataIndex": "role_type", "valueType":"select", "options":"${roleType}$" },
                            {"title": "所属单位", "dataIndex": "org_id", "valueType":"treeSelect", "required":"true",  "options":"${appOrgTree}$", "width":"sm" },
                            {"title": "输入人",   "dataIndex": "created_by", "readonly":true},
                            {"title": "输入日期","dataIndex": "created", "valueType":"dateTime", "readonly":true},
							{"title": "关联菜单", "dataIndex": "role_menus", "valueType":"tree", "options":"${appMenuTree}$" }					
						]
					}
				}
			}	
		],
		"roleUsersPanel":[{
			"component":"DetailForm",
			"form": {
				"layout":"vertical",
				"layoutType":"Form",
				"labelCol": { "span": 4 },
				"wrapperCol": { "span": 18, "xs":24 },						
				"submitText": "保存",
				"fields":[
					{
						"title": "角色", "valueType":"group", "size": 3, "columns": [
							{"dataIndex": "role_name", "placeholder": "角色名称", "readonly":"true" },
							{"dataIndex": "role_code", "placeholder": "角色编码", "readonly":"true" },
							{"dataIndex": "role_id", " placeholder": "角色ID", "readonly":"true" }		
						]
					},
					{
						"title": "包含用户", "dataIndex": "role_users", "valueType":"formList", 
						"formItemProps":{
							"creatorButtonProps": {"creatorButtonText": "添加授权用户"},
							"creatorRecord": {"row_index": 1}
						},
						"columns":[{
							"valueType":"group", "size": 3, "columns": [
								{"dataIndex": "row_index",  "placeholder": "序号", "readonly": "true", "width":"50px" },
								{"dataIndex": "user_id",  "placeholder": "用户名称", "valueType":"select", "width":"md","options":"${appUserList}$" },
								{"dataIndex": "right_info","placeholder": "权限规则", "width":"md" }
							]
						}]
					}					
				]
			}				
		}]
	},
	"initParams": {
	  	"queryForm":{
	  		"pageSize":10
	  	},
		"detailForm":{			
			"work_status": "Enabled",
			"role_type": "MenuTree",
			"org_id": "${LOGIN.userOrgId}$",	
			"created": "${Now}$",
			"created_by": "${LOGIN.loginAccount}$"		
		}
	},
    "valueList":{
	   	"appOrgTree":[],
		"appRoleTree":[],
    	"appMenuTree":[
			{"label":"目录1", "value":0, "children":[{"label":"功能11", "value":1},{"label":"功能12", "value":2},{"label":"功能13", "value":3}]},
			{"label":"目录2", "value":10, "children":[{"label":"功能21", "value":1001}, {"label":"功能22", "value":1002}]}
		],
    	"appUserList":[],
		"roleType":[],
		"rowStatus":[
		]
	}	
}