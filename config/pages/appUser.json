{
	"pageTitle": "系统用户",
	"pageType": "CrudView",
	"tabs": true,	
	"entityName": "sysUser",
	"mainPanel": "mainPanel",
	"statusColumn": { "col": "work_status", "val": "Enabled" },
    "rowKey": "user_id",
	"createdbyColumn": "created_by",	
	"contentBody":{
		"mainPanel":[{
			"query":{
				"component":"QueryForm",
				"form":{
					"layout":"inline",
					"layoutType":"Form",
					"submitText": "查询",
					"hideExport": true,
					"fields":[{
						"valueType":"group", 
						"fieldProps":{ "style": {"padding": "2px"}, "size": [12,10] }, 
						"columns":[
							{"title": "登录账号", "dataIndex": "login_account",  "width":"xs", "valueType": "text" },
							{"title": "用户名称", "dataIndex": "user_name",  "width":"xs", "valueType": "text" },
                            {"title": "所属部门", "dataIndex": "org_id",  "width":"sm", "valueType": "treeSelect", "options":"${appOrgTree}$" },
							{"title": "状态", "dataIndex": "work_status",  "width":"xs", "valueType": "select", "options":"${rowStatus}$" }
						]
					}]
				}	
			}
		},{
			"dataTable":{	
				"component":"CrudTable",
				"table":{
					"search":false,
					"columns": [
						{"title": "ID",     "dataIndex": "user_id","width":50},
                        {"title": "登录帐号",    "dataIndex": "login_account", "width":150},
						{"title": "用户名称",    "dataIndex": "user_name", "width":150},		
						{"title": "所属部门", "dataIndex": "org_id", "valueType":"select", "options":"${appOrgIdList}$"},				
						{"title": "状态", "dataIndex": "work_status", "valueType":"select", "options":"${rowStatus}$" },						
						{"title": "开通日期","dataIndex": "created", "valueType":"dateTime" },                          
                        {"title": "操作", "align":"center", "valueType": "buttons", "buttons": [                        	
                        	{"title":"编辑", "action": "edit"},
                        	{"title":"删除", "action": "delete"},
                        	{"title":"角色", "action": "userRoles"}
                        ]}
					]						
				}    	
			}	
		}],
		"detailPanel":[
			{
				"detailForm": {
					"component":"DetailForm",
					"form": {
						"layout":"horizontal",
						"layoutType":"Form",
						"buttonOffset": 8,
					    "labelCol": { "span": 8 },
    					"wrapperCol": { "span": 12 },						
						"submitText": "保存",
						"buttons": {
							"reset": {"text": "重设密码"}
						},
						"fields":[
                            {"title": "登录账号", "dataIndex": "login_account", "required":"true"},
                            {"title": "用户名称", "dataIndex": "user_name", "required":"true"},		
                            {"title": "所属部门", "valueType": "compact", "columns": [
                            	{ "placeholder":"部门名称","dataIndex": "org_id", "valueType":"treeSelect", "required":"true",  "options":"${appOrgTree}$", "width":"sm" },
                            	{ "placeholder":"部门代码","dataIndex": "org_code", "readonly":true, "width":"xs"}	
                            ]},
							{"title": "账号别名", "dataIndex": "user_alias"},
							{"title": "单位代码", "dataIndex": "node_code"},
                            {"title": "手机", "dataIndex": "user_mobile"},
                            {"title": "电邮", "dataIndex": "user_email"},
                            {"title": "是否激活", "dataIndex": "is_active", "readonly":true},
							{"title": "状态", "dataIndex": "work_status", "valueType":"select", "options":"${rowStatus}$", "required":"true" },                            
                            {"title": "输入人","dataIndex": "created_by","valueType":"text", "disabled":true},
                            {"title": "输入日期","dataIndex": "created", "valueType":"dateTime", "disabled": true }
						]
					}
				}
			}	
		],
		"userRolesPanel":[{
			"component":"DetailForm",
			"form": {
				"layout":"vertical",
				"layoutType":"Form",
				"labelCol": { "span": 4 },
				"wrapperCol": { "span": 18, "xs":24 },						
				"submitText": "保存",
				"fields":[
					{
						"title": "用户", "valueType":"group", "size": 3, "columns": [
							{"dataIndex": "user_name", "placeholder": "用户名称", "readonly":"true", "width":"150px" },
							{"dataIndex": "login_account", "placeholder": "登录账号", "readonly":"true" }		
						]
					},
					{
						"title": "包含角色", "dataIndex": "user_roles", "valueType":"formList", 
						"formItemProps":{
							"creatorButtonProps": {"creatorButtonText": "添加授权角色"},
							"creatorRecord": {"row_index": 1}
						},
						"columns":[{
							"valueType":"group", "size": 2, "columns": [
								{"dataIndex": "row_index",  "placeholder": "序号", "readonly": "true", "width":"50px" },
								{"dataIndex": "role_id",  "placeholder": "角色名称", "valueType":"select", "width":"md","options":"${appRoleTree}$" },
								{"dataIndex": "right_info","placeholder": "权限规则", "width":"sm" }
							]
						}]
					}					
				]
			}				
		}]		
	},
	"initParams": {
	  	"queryForm":{
	  		"pageSize":10
	  	},
	  	"detailForm":{			
			"work_status": "Enabled",
			"created": "${Now}$",
			"created_by": "${LOGIN.loginAccount}$"			
		}
	},
    "valueList":{
    	"appOrgIdList":[],
    	"appOrgTree":[],
		"appRoleTree":[],
		"rowStatus":[
			{"value": "Enabled", "label":"有效" },
			{"value": "Disabled", "label":"失效" }
		]
	}	
}