# 开发流程规范 (Development Workflow)

## 1. 核心原则
*   **严禁越级开发**：必须严格遵循 `需求 -> 设计 -> 开发 -> 测试` 的顺序。
*   **用户确认机制**：每个阶段的产出物必须经用户（或产品负责人）确认后，方可进入下一阶段。
*   **文档驱动**：代码是文档的实现，文档是代码的真理来源。

## 2. 标准工作流 (SOP)

### 阶段一：需求收集与分析 (Requirements)
1.  **输入**：用户口述、聊天记录、简要描述。
2.  **动作**：
    *   澄清模糊点。
    *   识别核心业务实体与逻辑。
3.  **产出**：需求文档 (`docs/features/<模块>/req.md`)。
4.  **卡点**：**用户确认需求文档**。

### 阶段二：方案与设计 (Design)
1.  **输入**：已确认的需求文档。
2.  **动作**：
    *   **低保真原型**：绘制关键页面的布局草图（ASCII/截图/线框图）。
    *   **数据建模**：定义数据库 Schema (Prisma) 和核心接口字段。
    *   **流程梳理**：针对复杂逻辑绘制 Mermaid 流程图。
3.  **产出**：设计文档 (或更新入需求文档)、原型图。
4.  **卡点**：**用户确认设计方案与视觉布局**。

### 阶段三：编码实现 (Implementation)
1.  **输入**：已确认的设计方案。
2.  **动作**：
    *   创建 Git 分支 (如 `feat/user-login`)。
    *   **Mock 数据先行**：优先实现 UI 静态页，使用假数据填充。
    *   **业务逻辑实现**：接入真实 API/Server Actions。
    *   **自测**：运行 Lint 检查，确保无 TypeScript 报错。
3.  **产出**：提交的代码 (Commits)。

### 阶段四：验证与交付 (Verification)
1.  **输入**：完成的功能模块。
2.  **动作**：
    *   对照“验收标准 (AC)”进行逐项测试。
    *   演示功能（截图或录屏）。
3.  **产出**：功能演示、E2E测试用例（可选）。
4.  **卡点**：**用户验收通过**。

## 3. 分支管理
*   **Main**: 主分支，保持随时可发布状态。
*   **Feat/**: 新功能分支，如 `feat/auth-module`。
*   **Fix/**: 修复分支，如 `fix/login-error`。
